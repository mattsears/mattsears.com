<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>Matt Sears | Kill N+1 Queries For Good with Strict Loading</title>
  <link rel="icon" href="/assets/images/me.png" type="image/x-icon" />
  <link href="https://unpkg.com/tailwindcss@2.0.2/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Kill N+1 Queries For Good with Strict Loading | Matt Sears</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Kill N+1 Queries For Good with Strict Loading" />
<meta name="author" content="Matt Sears" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I mostly write about technology and business since that’s been my livelyhood for the past twenty years, but I also write about my other interests including music, traveling, and other random topics." />
<meta property="og:description" content="I mostly write about technology and business since that’s been my livelyhood for the past twenty years, but I also write about my other interests including music, traveling, and other random topics." />
<link rel="canonical" href="https://mattsears.com/articles/2021/05/23/kill-n-plus-one-queries-for-good-with-strict-loading/" />
<meta property="og:url" content="https://mattsears.com/articles/2021/05/23/kill-n-plus-one-queries-for-good-with-strict-loading/" />
<meta property="og:site_name" content="Matt Sears" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-23T21:17:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Kill N+1 Queries For Good with Strict Loading" />
<script type="application/ld+json">
{"description":"I mostly write about technology and business since that’s been my livelyhood for the past twenty years, but I also write about my other interests including music, traveling, and other random topics.","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mattsears.com/assets/images/me.png"},"name":"Matt Sears"},"url":"https://mattsears.com/articles/2021/05/23/kill-n-plus-one-queries-for-good-with-strict-loading/","headline":"Kill N+1 Queries For Good with Strict Loading","dateModified":"2021-05-23T21:17:00+00:00","datePublished":"2021-05-23T21:17:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mattsears.com/articles/2021/05/23/kill-n-plus-one-queries-for-good-with-strict-loading/"},"author":{"@type":"Person","name":"Matt Sears"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  <body class="text-gray-700 antialiased bg-white js-focus-visible">
    <div class=" max-w-screen-xl mx-auto overflow-hidden ">
      <nav class="relative flex space-x-10 justify-center sm:justify-end w-full px-10" aria-label="Tabs">
  
    <a href="/" class=" border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-md" aria-current="page">
      Home
    </a>
  
    <a href="/articles/" class=" border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-md" aria-current="page">
      Journal
    </a>
  
</nav>

      <div class="relative max-w-3xl py-16 bg-white overflow-hidden mx-auto">
        <div class="relative px-4 sm:px-6 lg:px-8">
          <div class="text-lg max-w-prose mx-auto">
            <h1 class="block text-center">
              <span class="text-base text-indigo-600  tracking-wide uppercase">Posted in </span>
              <span class="text-base text-indigo-600 font-bold tracking-wide uppercase">development</span>
              <span class="mt-4 block text-3xl text-center leading-10 font-bold text-gray-900 sm:text-4xl">
                Kill N+1 Queries For Good with Strict Loading
              </span>
            </h1>
            <h2 class="block text-center py-5">
              <span class="text-base text-center text-indigo-600 font-semibold tracking-wide">Matt Sears</span>
              <span class="text-base text-gray-800">|</span>
              <span class="text-base">May 23, 2021 </span>
            </h2>
            <div class="post mt-8 text-lg leading-8">
              <p>Starting with <a href="https://github.com/rails/rails/pull/37400">Rails 6.1</a>, we can set
a <code class="language-plaintext highlighter-rouge">strict_loading</code> configuration option that, when <code class="language-plaintext highlighter-rouge">true</code>, will throw an error
if your code attempts to lazy load any associations with out strictly including
the association in the ActiveRecord query.</p>

<h4 id="a-brief-history-on-n1-queries-and-ruby-on-rails">A brief history on N+1 queries and Ruby on Rails</h4>

<p>Rails has a long history of scaling problems and a big cause of this is slow
database performance of N+1 queries. Rails makes it super easy to get data from
a database and magically have all of it at your finger tips. <!--more--> For
example, let’s say we have the following model associations:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">has_many</span> <span class="ss">:activities</span>
  <span class="o">...</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Activity</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">belongs_to</span> <span class="ss">:user</span>
  <span class="o">...</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Let’s say we want to get a list of activities for the first user:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">first</span>
</code></pre></div></div>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;%</span> <span class="vi">@user</span><span class="p">.</span><span class="nf">activities</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">activity</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;p&gt;</span><span class="cp">&lt;%=</span> <span class="n">activity</span><span class="p">.</span><span class="nf">description</span> <span class="cp">%&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre></div></div>

<p>The log files indicates it takes six SQL queries to get the information we want,
six queries! That may not sound like a lot, but as users grow and activities
grow, that’s going to be a tremendous burden we place on the database.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">User</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.5</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"users"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"users"</span> <span class="no">LIMIT</span> <span class="vg">$1</span>  <span class="p">[[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="no">Activity</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.4</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"activities"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"activities"</span> <span class="no">WHERE</span> <span class="s2">"activities"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="vg">$1</span> <span class="no">LIMIT</span> <span class="vg">$2</span>  <span class="p">[[</span><span class="s2">"id"</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="no">Activity</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.4</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"activities"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"activities"</span> <span class="no">WHERE</span> <span class="s2">"activities"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="vg">$1</span> <span class="no">LIMIT</span> <span class="vg">$2</span>  <span class="p">[[</span><span class="s2">"id"</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="no">Activity</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.3</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"activities"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"activities"</span> <span class="no">WHERE</span> <span class="s2">"activities"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="vg">$1</span> <span class="no">LIMIT</span> <span class="vg">$2</span>  <span class="p">[[</span><span class="s2">"id"</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="no">Activity</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.3</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"activities"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"activities"</span> <span class="no">WHERE</span> <span class="s2">"activities"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="vg">$1</span> <span class="no">LIMIT</span> <span class="vg">$2</span>  <span class="p">[[</span><span class="s2">"id"</span><span class="p">,</span> <span class="mi">27</span><span class="p">],</span> <span class="p">[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="no">Activity</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.4</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"activities"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"activities"</span> <span class="no">WHERE</span> <span class="s2">"activities"</span><span class="o">.</span><span class="s2">"id"</span> <span class="o">=</span> <span class="vg">$1</span> <span class="no">LIMIT</span> <span class="vg">$2</span>  <span class="p">[[</span><span class="s2">"id"</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
</code></pre></div></div>

<p>Rails took it upon itself to load the activity records for us because we didn’t
explicitly say we needed activity data in our initial call to get the
users. This is called <code class="language-plaintext highlighter-rouge">lazy loading</code> and it’s the default behavior in Rails. To
provide relief for our database, we get around the default behavior and <a href="https://guides.rubyonrails.org/active_record_querying.html#eager-loading-associations">eager
load</a>
associations by adding an <code class="language-plaintext highlighter-rouge">includes</code> statement:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="ss">:activities</span><span class="p">).</span><span class="nf">first</span>
</code></pre></div></div>

<p>Now our logs indicate that we went from <em>six</em> SQL queries, to just <em>two</em>. And it
will stay at two even as the activities grow.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">User</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.4</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"users"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"users"</span> <span class="no">LIMIT</span> <span class="vg">$1</span>  <span class="p">[[</span><span class="s2">"LIMIT"</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="no">Activity</span> <span class="no">Load</span> <span class="p">(</span><span class="mf">0.4</span><span class="n">ms</span><span class="p">)</span>  <span class="no">SELECT</span> <span class="s2">"activities"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"activities"</span> <span class="no">WHERE</span> <span class="s2">"activities"</span><span class="o">.</span><span class="s2">"id"</span> <span class="no">IN</span> <span class="p">(</span><span class="vg">$1</span><span class="p">,</span> <span class="vg">$2</span><span class="p">,</span> <span class="vg">$3</span><span class="p">)</span>  <span class="p">[[</span><span class="kp">nil</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="kp">nil</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="kp">nil</span><span class="p">,</span> <span class="mi">27</span><span class="p">]]</span>
</code></pre></div></div>

<p>Clearly, eager loading is crucial to save on precious database cycles and makes
our application more scalable. There are tons of articles out there about eager
loading so I won’t go into anymore detail. Instead, I want to focus on how can
we be sure we’re using eager loading throughout the development life-cycle.</p>

<h3 id="make-strict-loading-the-default-to-prevent-any-lazy-loading-of-database-records">Make strict loading the default to prevent any lazy loading of database records</h3>

<p>To turn off lazy loading completely we just make a simple configuration change:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/application.rb</span>

<span class="n">config</span><span class="p">.</span><span class="nf">active_record</span><span class="p">.</span><span class="nf">strict_loading_by_default</span> <span class="o">=</span> <span class="kp">true</span>
</code></pre></div></div>

<p>Now, if we attempt to lazy load any records, Rails will throw an error,
preventing our application from running and possibly tests from passing until we
eager load every query that requires data from an association.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActiveRecord</span><span class="o">::</span><span class="no">StrictLoadingViolationError</span> <span class="p">(</span><span class="sb">`User`</span> <span class="n">is</span> <span class="n">marked</span> <span class="k">for</span> <span class="n">strict_loading</span><span class="o">.</span>
  <span class="no">The</span> <span class="sb">`Activity`</span> <span class="n">association</span> <span class="n">named</span> <span class="sb">`:activity`</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">lazily</span> <span class="n">loaded</span><span class="o">.</span><span class="p">)</span>
</code></pre></div></div>

<p>This is a sure-fire way of preventing N+1 queries and forces us to really think
about the data we need when writing code. This is my default setting on any new
Rails projects and it does take some time getting used to. When I first starting
using strict loading, it was a little frustrating to start. My tests wouldn’t
pass and the some load pages wouldn’t render. I was tempted to remove the
setting, in particular in test mode so my tests would pass again. But, I
resisted and instead updated my code to eager load records where needed.</p>

<p>A particular trouble spot are test fixtures. For example, the code below uses
<a href="https://github.com/thoughtbot/factory_bot">FactoryBot</a> for fixtures and there’s
no simple way to eager load factories. So we can’t get data on associated
models like <code class="language-plaintext highlighter-rouge">user.activities</code> without getting the
<code class="language-plaintext highlighter-rouge">ActiveRecord::StrictLoadingViolationError</code> error. To get around this, I eager load
the association data in the <code class="language-plaintext highlighter-rouge">subject</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">UserTest</span> <span class="o">&lt;</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="n">let</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span> <span class="p">{</span> <span class="n">create</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span> <span class="p">}</span>
  <span class="n">let</span><span class="p">(</span><span class="ss">:activity</span><span class="p">)</span> <span class="p">{</span> <span class="n">create</span><span class="p">(</span><span class="ss">:activity</span><span class="p">,</span> <span class="ss">user: </span><span class="n">user</span><span class="p">)</span> <span class="p">}</span>

  <span class="n">subject</span> <span class="p">{</span> <span class="no">User</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="ss">:activites</span><span class="p">).</span><span class="nf">find</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="nf">id</span><span class="p">)</span> <span class="p">}</span>

  <span class="n">it</span> <span class="s2">"has activities"</span> <span class="k">do</span>
    <span class="c1"># assert_includes user.activities, activity # throws ActiveRecord::StrictLoadingViolationError error</span>

    <span class="n">assert_includes</span> <span class="n">subject</span><span class="p">.</span><span class="nf">activities</span><span class="p">,</span> <span class="n">actvity</span>
  <span class="k">end</span>
  <span class="o">...</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Not exactly as easy as just using the <code class="language-plaintext highlighter-rouge">user</code> record created from FactoryBot, but
at least now our <code class="language-plaintext highlighter-rouge">subject</code> has all the data loaded and the results are a faster
test suite since we’re using less queries!</p>

<h4 id="updates-coming-in-rails-7-for-strict-loading">Updates coming in Rails 7 for strict loading</h4>

<p>In the upcoming Rails 7 release, there are more options around strict loading we
can use to fine tune our application. Most notably, the <code class="language-plaintext highlighter-rouge">n_plus_one_only</code> mode that
allows us to lazily load <code class="language-plaintext highlighter-rouge">belongs_to</code> and <code class="language-plaintext highlighter-rouge">has_many</code> associations that are
fetched through a single query, but does not raise an error unless it is a true N+1
query. This will be mostly likely be the default setting I will use since I think it’s a
nice trade off between convenience and performance.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user</span><span class="p">.</span><span class="nf">activities</span> <span class="c1"># Does not raise an error anymore</span>
<span class="n">user</span><span class="p">.</span><span class="nf">activities</span><span class="p">.</span><span class="nf">first</span><span class="p">.</span><span class="nf">client</span> <span class="c1"># Raises StrictLoadingViolationError</span>
</code></pre></div></div>

<p>We can also set the strict loading option on an associations-by-association
basis. This can be handy if we’re working with an existing app and we want to
convert to strict loading over time.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">has_many</span> <span class="ss">:activities</span><span class="p">,</span> <span class="ss">strict_loading: </span><span class="kp">true</span>
<span class="k">end</span>
</code></pre></div></div>

<p>I encourage you to try making strict loading the default in your Ruby on Rails
applications. Your databases will thank you.</p>

            </div>
          </div>
        </div>
      </div>
      <div class="bg-white">
        <div class="mx-auto border-t border-gray-400 py-12 px-4 max-w-2xl sm:px-6 lg:px-8 lg:py-10">
          <div class="space-y-12">
            <ul class="space-y-12 sm:divide-y sm:divide-gray-200 sm:space-y-0 sm:-mt-8 lg:gap-x-8 lg:space-y-0">
              <li class="sm:p-8 rounded-lg">
                <div class="space-y-4 sm:grid sm:grid-cols-3 sm:items-start sm:gap-6 sm:space-y-0">
                  <!-- Image -->
                  <div class="aspect-w-3 aspect-h-2 sm:aspect-w-3 sm:aspect-h-4">
                    <img class="object-cover shadow-lg rounded-lg" src="/assets/images/me.png" alt="">
                  </div>
                  <div class="sm:col-span-2">
                    <div class="space-y-4">
                      <div class="text-lg leading-6 font-medium space-y-1">
                        <h3>Matt Sears</h3>
                        <p class="text-indigo-600">Engineer / Business / Design</p>
                      </div>
                      <div class="text-lg">
                        <p class="text-gray-500">
                          Thank you for checking out my website.
                        </p>
                      </div>
                      <div class="flex space-x-3">
                        <a href="https://instagram.com/mattsears" target="_blank" class="text-gray-400 hover:text-gray-300">
  <span class="sr-only">Instagram</span>
  <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" />
  </svg>
</a>
<a href="https://github.com/mattsears" target="_blank" class="text-gray-400 hover:text-gray-300">
  <span class="sr-only">GitHub</span>
  <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
  </svg>
</a>
<a href="https://linkedin.com/in/matthewsears" target="_blank" class="text-gray-400 hover:text-gray-300">
  <span class="sr-only">LinkedIn</span>
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
    <path fill-rule="evenodd" d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z" clip-rule="evenodd" />
  </svg>
</a>

                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
