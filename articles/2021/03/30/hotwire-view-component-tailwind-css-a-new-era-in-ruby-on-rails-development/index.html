<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>Matt Sears | Hotwire, ViewComponent, and TailwindCSS: A New Era in Ruby On Rails Development</title>
  <link rel="icon" href="/assets/images/me.png" type="image/x-icon" />
  <link href="https://unpkg.com/tailwindcss@2.0.2/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Hotwire, ViewComponent, and TailwindCSS: A New Era in Ruby On Rails Development | Matt Sears</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Hotwire, ViewComponent, and TailwindCSS: A New Era in Ruby On Rails Development" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The world has changed a lot in the past year, no doubt. This includes some big changes on how we will build Ruby on Rails applications going forward. Late last year, the Basecamp/Hey team released Hotwire, a new way how our front-end and back-end code work together. Hotwire is a collection of tools that allows to build single-page (like) apps with much less Javascript. Most notable tool in Hotwire’s collection is Turbo, which provides most of the plumbing for delivering html to the browser without full-page reloads." />
<meta property="og:description" content="The world has changed a lot in the past year, no doubt. This includes some big changes on how we will build Ruby on Rails applications going forward. Late last year, the Basecamp/Hey team released Hotwire, a new way how our front-end and back-end code work together. Hotwire is a collection of tools that allows to build single-page (like) apps with much less Javascript. Most notable tool in Hotwire’s collection is Turbo, which provides most of the plumbing for delivering html to the browser without full-page reloads." />
<link rel="canonical" href="https://mattsears.com/articles/2021/03/30/hotwire-view-component-tailwind-css-a-new-era-in-ruby-on-rails-development/" />
<meta property="og:url" content="https://mattsears.com/articles/2021/03/30/hotwire-view-component-tailwind-css-a-new-era-in-ruby-on-rails-development/" />
<meta property="og:site_name" content="Matt Sears" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-30T17:11:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Hotwire, ViewComponent, and TailwindCSS: A New Era in Ruby On Rails Development" />
<script type="application/ld+json">
{"description":"The world has changed a lot in the past year, no doubt. This includes some big changes on how we will build Ruby on Rails applications going forward. Late last year, the Basecamp/Hey team released Hotwire, a new way how our front-end and back-end code work together. Hotwire is a collection of tools that allows to build single-page (like) apps with much less Javascript. Most notable tool in Hotwire’s collection is Turbo, which provides most of the plumbing for delivering html to the browser without full-page reloads.","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mattsears.com/assets/images/me.png"}},"url":"https://mattsears.com/articles/2021/03/30/hotwire-view-component-tailwind-css-a-new-era-in-ruby-on-rails-development/","headline":"Hotwire, ViewComponent, and TailwindCSS: A New Era in Ruby On Rails Development","dateModified":"2021-03-30T17:11:00+00:00","datePublished":"2021-03-30T17:11:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mattsears.com/articles/2021/03/30/hotwire-view-component-tailwind-css-a-new-era-in-ruby-on-rails-development/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  <body class="text-gray-700 antialiased bg-white js-focus-visible">
    <div class=" max-w-screen-xl mx-auto overflow-hidden ">
      <nav class="relative flex space-x-10 justify-center sm:justify-end w-full px-10" aria-label="Tabs">
  
    <a href="/" class=" border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-md" aria-current="page">
      Home
    </a>
  
    <a href="/articles/" class=" border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-md" aria-current="page">
      Journal
    </a>
  
</nav>

      <div class="relative max-w-3xl py-16 bg-white overflow-hidden mx-auto">
        <div class="relative px-4 sm:px-6 lg:px-8">
          <div class="text-lg max-w-prose mx-auto">
            <h1 class="block text-center">
              <span class="text-base text-indigo-600  tracking-wide uppercase">Posted in </span>
              <span class="text-base text-indigo-600 font-bold tracking-wide uppercase">development</span>
              <span class="mt-4 block text-3xl text-center leading-10 font-bold text-gray-900 sm:text-4xl">
                Hotwire, ViewComponent, and TailwindCSS: A New Era in Ruby On Rails Development
              </span>
            </h1>
            <h2 class="block text-center py-5">
              <span class="text-base text-center text-indigo-600 font-semibold tracking-wide">Matt Sears</span>
              <span class="text-base text-gray-800">|</span>
              <span class="text-base">Mar 30, 2021 </span>
            </h2>
            <div class="post mt-8 text-lg leading-8">
              <p>The world has changed a lot in the past year, no doubt. This includes some big
changes on how we will build Ruby on Rails applications going forward. Late last
year, the Basecamp/Hey team released <a href="https://hotwire.dev/">Hotwire</a>, a new way
how our front-end and back-end code work together. Hotwire is a collection of
tools that allows to build single-page (like) apps with much less
Javascript. Most notable tool in Hotwire’s collection is
<a href="https://turbo.hotwire.dev/">Turbo</a>, which provides most of the plumbing for
delivering html to the browser without full-page reloads. <!--more--> When
paired with <a href="https://stimulus.hotwire.dev/">Stimulus</a>, we can sprinkle in a
little Javascript into your HTML and make our apps really responsive.</p>

<p><img src="/assets/images/generated/hotwire-new-era-800-cf7135b6d.jpg" srcset="/assets/images/generated/hotwire-new-era-400-cf7135b6d.jpg 400w, /assets/images/generated/hotwire-new-era-600-cf7135b6d.jpg 600w, /assets/images/generated/hotwire-new-era-800-cf7135b6d.jpg 800w, /assets/images/generated/hotwire-new-era-1000-cf7135b6d.jpg 1000w" /></p>

<p>On the west coast, The Github team is working on a new technique for building
user interface components called
<a href="https://viewcomponent.org/">ViewComponent</a>. With this gem, we can say to
goodbye to logic-ridden partials and replace them with smaller, bite-size
nuggets of common user interface elements such has buttons, links, flashes,
popups, and more.</p>

<p>And then we have <a href="https://tailwindcss.com/">TailwindCSS</a>, a CSS framework that
is design to work in html classes instead of traditional CSS stylesheets. With
Tailwind, you style elements by applying pre-existing classes directly in the
HTML. This can take a little getting use to, since if you’re like me, I’ve been
knee deep in stylesheets for over twenty years. But after working with Tailwind
for just a little while, it’s a game changer. You’re able to build out nice
looking interfaces without even creating a CSS file.</p>

<p>An overwriting common theme these tools have is <em>we’re working more directly in
the html</em>. We’re able to build great looking websites with function by just
adding attributes and elements. This eliminates a ton of Javascript and CSS
files, that let’s face it, hindered productivity. I’ve been working with these
three tools for a few months now and it’s feels like I finally have a great way
to organize and test user interfaces like never before.</p>

<p>To illustrate the power of these three tools, I’m going to show you how to make
any normal link fetch the results from the server and display the results in a
popup modal box. Meaning, the application will make a request to the address
specified in the <code class="language-plaintext highlighter-rouge">href</code> attribute, the server will render the html, and the
browser will display the html in a popup - all without full page refresh and
very little Javascript. For example, let’s start with this <code class="language-plaintext highlighter-rouge">link_to</code>:</p>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Edit Profile"</span><span class="p">,</span> <span class="s1">'/profile'</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="s2">"turbo-frame"</span><span class="p">:</span> <span class="s2">"popup_modal"</span> <span class="p">}</span> <span class="cp">%&gt;</span>
</code></pre></div></div>

<p>It’s a normal plain link, with one exception of the <code class="language-plaintext highlighter-rouge">data-turbo-frame</code>
attribute. When we assign this attribute to a link, it essentially tells Turbo
to intercept the click on <code class="language-plaintext highlighter-rouge">&lt;a href&gt;</code> and prevents the browser from
following it, instead makes a requests to <code class="language-plaintext highlighter-rouge">/profile</code> on the server using fetch, and then
renders the HTML response inside the <code class="language-plaintext highlighter-rouge">turbo-frame</code>. You can learn more about
this on the Turbo’s handbook in the section <a href="https://turbo.hotwire.dev/handbook/introduction#turbo-drive-navigate-within-a-persistent-process">Turbo Drive: Navigate within a
persistent
process</a></p>

<p>The <code class="language-plaintext highlighter-rouge">turbo-frame</code> we want in question is our popup modal. We’re going to use
<em>just one</em> view component for all of our popups. Meaning we will not be required
to wrap the <code class="language-plaintext highlighter-rouge">/profile</code> html around a modal on the server - freeing us to use
view in other ways if we choose too.</p>

<p>Okay, first let’s build our view component for our modal popup. Below are three files we need.</p>

<ol>
  <li>
    <p>The ruby code for our component. In this case, we’re just accepting the name of the component which we will in turn use in our template.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># app/components/modal_component.rb</span>

 <span class="k">class</span> <span class="nc">ModalComponent</span> <span class="o">&lt;</span> <span class="no">ViewComponent</span><span class="o">::</span><span class="no">Base</span>

   <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">:)</span>
     <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
   <span class="k">end</span>

 <span class="k">end</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The html code for our component. Notice the <code class="language-plaintext highlighter-rouge">&lt;turbo-frame&gt;</code> element. We’re assign the id of the frame to the name we pass into our component.</p>

    <div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c">&lt;!-- app/components/modal_component.html.erb --&gt;</span>
 <span class="nt">&lt;div</span> <span class="na">data-controller=</span><span class="s">"modal-component"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;div</span> <span class="na">data-popup--modal-target=</span><span class="s">"container"</span>
        <span class="na">data-action=</span><span class="s">"click-&gt;modal-component#closeBackground keyup@window-&gt;modal-component#closeWithKeyboard"</span>
        <span class="na">class=</span><span class="s">"hidden absolute transform transition-all inset-32 overflow-y-auto flex justify-center"</span> <span class="na">style=</span><span class="s">"z-index: 9999;"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"max-h-screen w-full relative"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"bg-white rounded-md shadow pt-3"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"hidden sm:block absolute top-0 right-0 pt-4 pr-4"</span><span class="nt">&gt;</span>
           <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"btn-round"</span> <span class="na">data-action=</span><span class="s">"click-&gt;modal-component#close"</span><span class="nt">&gt;</span>
             <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>X<span class="nt">&lt;/span&gt;</span>
           <span class="nt">&lt;/button&gt;</span>
         <span class="nt">&lt;/div&gt;</span>
         <span class="nt">&lt;turbo-frame</span> <span class="na">id=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="vi">@name</span> <span class="cp">%&gt;</span><span class="s">"</span> <span class="na">data-modal-component-target=</span><span class="s">"frame"</span> <span class="na">src=</span><span class="s">""</span> <span class="na">target=</span><span class="s">"_top"</span><span class="nt">&gt;&lt;/turbo-frame&gt;</span>
       <span class="nt">&lt;/div&gt;</span>
     <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
 <span class="nt">&lt;/div&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>And the Javascript we need to do basic things with our modal like dismissing and the actual popping.</p>
  </li>
</ol>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// app/components/modal_component_controller.js</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">Controller</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">stimulus</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="kd">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="nx">targets</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">container</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">frame</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">loader</span><span class="dl">'</span><span class="p">];</span>

  <span class="nx">connect</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MutationObserver</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frameMutated</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frameTarget</span><span class="p">,</span> <span class="p">{</span> <span class="na">attributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">childList</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">characterData</span><span class="p">:</span> <span class="kc">false</span>   <span class="p">})</span>

    <span class="c1">// The HTML for the background element</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">backgroundHtml</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_backgroundHTML</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">disconnect</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observer</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">()</span>
    <span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">observer</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">frameMutated</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frameTarget</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">busy</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">loaderTarget</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="dl">'</span><span class="s1">hidden</span><span class="dl">'</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">loaderTarget</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">hidden</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Insert the background</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insertAdjacentHTML</span><span class="p">(</span><span class="dl">'</span><span class="s1">beforeend</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">backgroundHtml</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">`#</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">backgroundId</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>

    <span class="c1">// Unhide the modal</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">containerTarget</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="dl">"</span><span class="s2">hidden</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">close</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

    <span class="c1">// Hide the modal</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">containerTarget</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">"</span><span class="s2">hidden</span><span class="dl">"</span><span class="p">);</span>

    <span class="c1">// Remove the background</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">background</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">background</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">frameTarget</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">closeBackground</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">containerTarget</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">closeWithKeyboard</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">===</span> <span class="mi">27</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">containerTarget</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="dl">"</span><span class="s2">hidden</span><span class="dl">"</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">_backgroundHTML</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">&lt;div id="modal-background" class="fixed top-0 left-0 w-full h-full " style="background-color: rgba(0, 0, 0, 0.4); z-index: 98;"&gt;&lt;/div&gt;</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>This is standard Javascript for handling popups, with on exception: We need the
popup to appear when it’s contents change. At the time of the writing of this
post, there is no way to trigger events on the front-end when Turbo completes
it’s request. So when Turbo replaces the contents with the response from
<code class="language-plaintext highlighter-rouge">/profile</code>, we need that to trigger the popup to, <em>popup</em>.</p>

<p>With our new view component, we can call component in our application layout just before the end of <code class="language-plaintext highlighter-rouge">&lt;/body&gt;</code> element:</p>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- /app/views/layouts/application.html.erb --&gt;</span>
   ...
  <span class="cp">&lt;%=</span> <span class="n">render</span><span class="p">(</span><span class="no">ModalComponent</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"popup_modal"</span><span class="p">))</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<p>With that we have a nice popup modal styled with Tailwind and organized as a
View Component ready to respond when it’s content is changed. Buried in this
popup is the <code class="language-plaintext highlighter-rouge">turbo-frame</code> with the same id as the target in the link <code class="language-plaintext highlighter-rouge">&lt;%=
link_to "Edit Profile", '/profile', data: { "turbo-frame": "popup_modal" }
%&gt;</code>. With this link, Turbo will make a request to <code class="language-plaintext highlighter-rouge">/profile</code>, render the html on
the server, and return the response inside the turbo-frame (matching the
‘popup_modal’ id) that we declared in our component.</p>

<p>The last piece of the puzzle is the server-side code. In our show action, we
simply just need to declare <code class="language-plaintext highlighter-rouge">turbo_stream</code> format like this:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ProfileController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">...</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="nb">format</span><span class="p">.</span><span class="nf">turbo_stream</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Then in our turbo_stream template, we instruct turbo to
<a href="https://github.com/hotwired/turbo-rails/blob/main/app/models/turbo/streams/tag_builder.rb#L56">update</a>
the contents of the “popup_modal” turbo-frame, to update the contents with the
html inside the block:</p>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- /app/views/profiles/show.turbo_stream.erb --&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">turbo_stream</span><span class="p">.</span><span class="nf">update</span> <span class="s2">"popup_modal"</span> <span class="k">do</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden transform transition-all sm:my-9 sm:align-middle sm:w-full sm:p-6"</span> <span class="na">role=</span><span class="s">"dialog"</span> <span class="na">aria-modal=</span><span class="s">"true"</span> <span class="na">aria-labelledby=</span><span class="s">"modal-headline"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sm:flex sm:items-start"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">"text-lg leading-6 font-medium text-gray-900"</span> <span class="na">id=</span><span class="s">"modal-headline"</span><span class="nt">&gt;</span>
          Hello from the server!
        <span class="nt">&lt;/h3&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mt-2"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"text-sm text-gray-500"</span><span class="nt">&gt;</span>
            This HTML was rendered on the server and sent over the wire with Hotwire.
          <span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre></div></div>

<p>When this is returned from the server, Turbo on the front-end will update the
contents in our <code class="language-plaintext highlighter-rouge">&lt;turbo-frame id="popup_modal"...&lt;/turbo-frame&gt;</code> that we’ve
declared inside our view template that resides at the bottom of the application
layout. In our Stimulus controller
<code class="language-plaintext highlighter-rouge">app/components/modal_component_controller.js</code> (shown above), we’ve included a
<code class="language-plaintext highlighter-rouge">MutationObserver</code> that basically watches to see if any of the html code
changes. When it does, it will <em>popup</em> our modal. Let’s see it in action:</p>

<p><img src="/assets/images/journal/hotwire.gif" alt="Watch Rich Text Editor in action" /></p>

<p>So now whenever we want to display content in a popup, we just need to add the
<code class="language-plaintext highlighter-rouge">data: { "turbo-frame": "popup_modal" }</code> data attribute to any link and it will
magically work - no extra code necessary.</p>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Display the sign up page in a popup --&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign Up"</span><span class="p">,</span> <span class="err">'</span><span class="o">/</span><span class="n">sign_up</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="s2">"turbo-frame"</span><span class="p">:</span> <span class="s2">"popup_modal"</span> <span class="p">}</span> <span class="cp">%&gt;</span>

<span class="c">&lt;!-- Display the login form in a popup --&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Login"</span><span class="p">,</span> <span class="err">'</span><span class="o">/</span><span class="n">login</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="s2">"turbo-frame"</span><span class="p">:</span> <span class="s2">"popup_modal"</span> <span class="p">}</span> <span class="cp">%&gt;</span>
</code></pre></div></div>

<p>I know this is a lot to digest and there’s a lot I didn’t cover. I will continue to write more about Hotwire in the
very near future as I’m very excited about it’s possibilities. Check back soon!</p>

            </div>
          </div>
        </div>
      </div>
      <div class="bg-white">
        <div class="mx-auto border-t border-gray-400 py-12 px-4 max-w-2xl sm:px-6 lg:px-8 lg:py-10">
          <div class="space-y-12">
            <ul class="space-y-12 sm:divide-y sm:divide-gray-200 sm:space-y-0 sm:-mt-8 lg:gap-x-8 lg:space-y-0">
              <li class="sm:p-8 rounded-lg">
                <div class="space-y-4 sm:grid sm:grid-cols-3 sm:items-start sm:gap-6 sm:space-y-0">
                  <!-- Image -->
                  <div class="aspect-w-3 aspect-h-2 sm:aspect-w-3 sm:aspect-h-4">
                    <img class="object-cover shadow-lg rounded-lg" src="/assets/images/me.png" alt="">
                  </div>
                  <div class="sm:col-span-2">
                    <div class="space-y-4">
                      <div class="text-lg leading-6 font-medium space-y-1">
                        <h3>Matt Sears</h3>
                        <p class="text-indigo-600">Engineer / Business / Design</p>
                      </div>
                      <div class="text-lg">
                        <p class="text-gray-500">
                          Thank you for checking out my website.
                        </p>
                      </div>
                      <div class="flex space-x-3">
                        <a href="https://instagram.com/mattsears" target="_blank" class="text-gray-400 hover:text-gray-300">
  <span class="sr-only">Instagram</span>
  <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" />
  </svg>
</a>
<a href="https://github.com/mattsears" target="_blank" class="text-gray-400 hover:text-gray-300">
  <span class="sr-only">GitHub</span>
  <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
  </svg>
</a>
<a href="https://linkedin.com/in/matthewsears" target="_blank" class="text-gray-400 hover:text-gray-300">
  <span class="sr-only">LinkedIn</span>
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
    <path fill-rule="evenodd" d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z" clip-rule="evenodd" />
  </svg>
</a>

                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
