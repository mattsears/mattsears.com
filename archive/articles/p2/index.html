<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]> ><! <![endif]-->
<html class='no-js' lang='en'>
  <!-- <![endif] -->
  <head>
    <meta charset='utf-8' />
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <title>Matt Sears | Print Stamps With Ruby!</title>
    <meta content='Matt Sears, Matt, Sears' name='keywords' />
    <meta author='Matt Sears' />
    <link href='http://feeds.feedburner.com/mattsears' rel='alternate' title='Feed for mattsears' type='application/atom+xml' />
    <link href='/images/favicon.png' rel='shortcut icon' />
    <link href='/fonts/ss-social.css' rel='stylesheet' />
    <link href="/stylesheets/app.css?1449018083" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <nav>
      <div class='row'></div>
    </nav>
    <div class='row'>
      <div class='twelve columns centered'>
        <div class='row'>
  <div class='large-7 columns large-centered'>
    <header class='text-center'>
      <a href='/'>
        <img class='me' height='200' src='/images/matt-sears.jpg' width='200' />
      </a>
    </header>
  </div>
</div>
<div class='row'>
  <div class='large-10 columns large-centered'>
    <article>
      <header class='text-center'>
        <h2>
          <a href='/articles/2011/11/16/nyan-cat-rspec-formatter'>
            Nyan Cat RSpec Formatter
          </a>
        </h2>
        <h5>
          Written by
          <a href='#'>Matt</a>
          on
          /
          Nov 16
        </h5>
      </header>
      <div class='row'>
        <div class='large-10 column large-centered'>
          <p>I watch a lot of tests run in a given day. So I figured why not make it more
fun. Inspired by <a href="https://github.com/seattlerb/minitest">minitest</a>&#39;s pride, and um
cats? I came up with a <a href="http://www.youtube.com/watch?v=QH2-TGUlwu4">Nyan Cat</a>
inspired RSpec formatter.</p>

<p>Update: After last week&#39;s launch, Nyan Cat received a great response from the
Ruby world. Over the weekend, I released version 0.0.2.  It includes a few bug
fixes and some really cool enhancements. Most notably, Nyan Cat now spans
multiple lines. In addition, it displays running totals of passing, pending,
and failed specs. Thanks to everyone who contributed! Checkout the new
screencast below.</p>
<div class="highlight"><pre><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="p">,</span><span class="o">------</span><span class="p">,</span>
<span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-|</span>   <span class="o">/\</span><span class="n">_</span><span class="o">/\</span>
<span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-~|</span><span class="n">__</span><span class="p">(</span> ^ <span class="o">.^</span><span class="p">)</span>
<span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span><span class="n">_</span><span class="o">-</span>&quot;&quot;  &quot;&quot;
</pre></div>
<h3>Nyan Cat</h3>

<p>Much like <a href="https://github.com/kapoq/nyan">Nyan</a>, Nyan Cat simply creates a rainbow
trail of test results. It counts the number of examples as they execute and
highlights failed and pending specs. The rainbow changes colors as it runs and
if all the specs pass, Nyan Cat falls asleep.  If there are any pending or
failing specs, Nyan cat is concerned and can&#39;t sleep.</p>

<p>Here&#39;s a short demo of Nyan Cat in action.</p>

<p><center>
  <iframe
src="http://player.vimeo.com/video/32424001?title=0&amp;byline=0&amp;portrait=0"
width="640" height="480" frameborder="0" webkitAllowFullScreen
mozallowfullscreen allowFullScreen></iframe>
</center></p>

<p>Installing Nyan Cat is easy. Just install the gem <code>nyan-cat-formatter</code> and simply put the options in your .rspec file:</p>
<div class="highlight"><pre><span class="o">--</span><span class="n">format</span> <span class="n">NyanCatFormatter</span>
</pre></div>
<p>Checkout the code on <a href="https://github.com/mattsears/nyan-cat-formatter">Github</a>
and let me know how you like it.  If you run into any issues, please create an
issue on Github and I will be sure to get it fixed. Of course you can always
fork the project and send me a pull request.</p>

<p>Have fun!</p>
          <hr />
        </div>
      </div>
    </article>
  </div>
</div>
<div class='row'>
  <div class='large-10 columns large-centered'>
    <article>
      <header class='text-center'>
        <h2>
          <a href='/articles/2011/10/12/gaga-key-value-store'>
            Gaga, A Git-Backed Key/Value Store
          </a>
        </h2>
        <h5>
          Written by
          <a href='#'>Matt</a>
          on
          /
          Oct 12
        </h5>
      </header>
      <div class='row'>
        <div class='large-10 column large-centered'>
          <p>Gaga originated from my winning entry in Codebrawl&#39;s <a href="http://codebrawl.com/contests/key-value-stores">Key/Value
Store</a> contest. The challenge
was to write the best key/value storage backend you can think of. Since Git is
fast, reliable, and a great tool for storing source code, I was really
interested in making an easy way to store key/values.</p>

<p>Built with <a href="https://github.com/mojombo/grit">Grit</a>, Gaga supports SET, GET, KEYS,
and DELETE operations. And since it&#39;s Git, we can easily enhance it to include
other awesome Git features such as branches, diffs, reverting, etc.</p>

<h4>Usage</h4>
<div class="highlight"><pre><span class="vi">@gaga</span> <span class="o">=</span> <span class="no">Gaga</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:repo</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/repo&#39;</span><span class="p">)</span>

<span class="c1"># SET</span>
<span class="vi">@gaga</span><span class="o">[</span><span class="s1">&#39;lady&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;gaga&quot;</span>

<span class="c1"># GET</span>
<span class="vi">@gaga</span><span class="o">[</span><span class="s1">&#39;lady&#39;</span><span class="o">]</span> <span class="c1">#=&gt; &quot;gaga&quot;</span>

<span class="c1"># KEYS</span>
<span class="vi">@gaga</span><span class="o">.</span><span class="n">keys</span>  <span class="c1">#=&gt; [&#39;lady&#39;]</span>

<span class="c1"># DELETE</span>
<span class="vi">@gaga</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;lady&#39;</span><span class="p">)</span> <span class="c1">#=&gt; &#39;gaga&#39;</span>

<span class="c1"># Remove all items from the store</span>
<span class="vi">@gaga</span><span class="o">.</span><span class="n">clear</span>
</pre></div>
<p>That works pretty well. Now, we can harness the power of Git and enhance our data
store. For example, we can get a history log for a specific key:</p>
<div class="highlight"><pre><span class="c1"># LOG</span>
<span class="vi">@gaga</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;lady&#39;</span><span class="p">)</span>

<span class="c1"># Produces:</span>
<span class="o">[</span>
 <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;all clear&quot;</span><span class="p">,</span><span class="s2">&quot;committer&quot;</span><span class="o">=&gt;</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Matt Sears&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;matt@mattsears.com&quot;</span><span class="p">},</span> <span class="s2">&quot;committed_date&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;2011-09-05...&quot;</span><span class="p">},</span>
 <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;set &#39;lady&#39; &quot;</span><span class="p">,</span> <span class="s2">&quot;committer&quot;</span><span class="o">=&gt;</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Matt Sears&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;matt@mattsears.com&quot;</span><span class="p">},</span> <span class="s2">&quot;committed_date&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;2011-09-05...&quot;</span><span class="p">}</span>
 <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;delete &#39;lady&#39; &quot;</span><span class="p">,</span> <span class="s2">&quot;committer&quot;</span><span class="o">=&gt;</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Matt Sears&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;matt@mattsears.com&quot;</span><span class="p">},</span> <span class="s2">&quot;committed_date&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;2011-09-05...&quot;</span><span class="p">}</span>
<span class="o">]</span>
</pre></div>
<p>This is just a start. There&#39;s still a lot things we can add.  If you are interested in more detailed information, check out the repo
on <a href="https://github.com/mattsears/gaga">Github</a>.</p>
          <hr />
        </div>
      </div>
    </article>
  </div>
</div>
<div class='row'>
  <div class='large-10 columns large-centered'>
    <article>
      <header class='text-center'>
        <h2>
          <a href='/articles/2011/05/15/print-stamps-with-ruby'>
            Print Stamps With Ruby!
          </a>
        </h2>
        <h5>
          Written by
          <a href='#'>Matt</a>
          on
          /
          May 15
        </h5>
      </header>
      <div class='row'>
        <div class='large-10 column large-centered'>
          <p>I&#39;ve just released <a href="https://github.com/mattsears/stamps">Stamps</a> - A Ruby gem for creating postage labels,
calculate the shipping cost of packages, standardize domestic
addresses via USPS CASS certified Address Matching Software, and track
shipments using the Stamps.com Web Services API.</p>

<h4>Quick Start</h4>

<p>First, you will need to register for a (free) developer account at
<a href="http://developer.stamps.com/developer">Stamps.com</a>. Once you receive
your test credentials and integration id, just plug them into the
configuration block:</p>
<div class="highlight"><pre><span class="no">Stamps</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="o">.</span><span class="n">integration_id</span> <span class="o">=</span> <span class="s1">&#39;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXXX&#39;</span>
  <span class="n">config</span><span class="o">.</span><span class="n">username</span>       <span class="o">=</span> <span class="s1">&#39;STAMPS USERNAME&#39;</span>
  <span class="n">config</span><span class="o">.</span><span class="n">password</span>       <span class="o">=</span> <span class="s1">&#39;STAMPS PASSWORD&#39;</span>
<span class="k">end</span>
</pre></div>
<p>For a simple test, we can call <code>Stamps.account</code> to retreive
information about the account.  By default, Stamps will return all
responses as a Hash.</p>

<h4>Create a Stamp</h4>

<p>First, we need to standardize the shipping address that complies with the USPS address
formatting guidelines:</p>
<div class="highlight"><pre><span class="n">standardized_address</span> <span class="o">=</span> <span class="no">Stamps</span><span class="o">.</span><span class="n">clean_address</span><span class="p">(</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:full_name</span> <span class="o">=&gt;</span> <span class="s1">&#39;The White House&#39;</span><span class="p">,</span>
    <span class="ss">:address1</span>  <span class="o">=&gt;</span> <span class="s1">&#39;1600 Pennsylvania Avenue, NW&#39;</span><span class="p">,</span>
    <span class="ss">:city</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Washington&#39;</span><span class="p">,</span>
    <span class="ss">:state</span>     <span class="o">=&gt;</span> <span class="s1">&#39;DC&#39;</span><span class="p">,</span>
    <span class="ss">:zip_code</span>  <span class="o">=&gt;</span> <span class="s1">&#39;20500&#39;</span>
<span class="p">})</span>
</pre></div>
<p>Now that we have a clean address we can create a new stamp.  The
<code>Stamps.create!</code> takes the sender and receiver address along with parameters
on the rate:</p>
<div class="highlight"><pre><span class="n">stamp</span> <span class="o">=</span> <span class="no">Stamps</span><span class="o">.</span><span class="n">create!</span><span class="p">(</span>
    <span class="ss">:rate</span>          <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:from_zip_code</span> <span class="o">=&gt;</span> <span class="s1">&#39;45440&#39;</span><span class="p">,</span>
      <span class="ss">:to_zip_code</span>   <span class="o">=&gt;</span> <span class="s1">&#39;20500&#39;</span><span class="p">,</span>
      <span class="ss">:weight_oz</span>     <span class="o">=&gt;</span> <span class="s1">&#39;6.5&#39;</span><span class="p">,</span>
      <span class="ss">:ship_date</span>      <span class="o">=&gt;</span> <span class="no">Date</span><span class="o">.</span><span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">),</span>
      <span class="ss">:package_type</span>   <span class="o">=&gt;</span> <span class="s1">&#39;Package&#39;</span><span class="p">,</span>
      <span class="ss">:service_type</span>   <span class="o">=&gt;</span> <span class="s1">&#39;US-FC&#39;</span>  <span class="c1"># Flat-rate</span>
    <span class="p">},</span>
    <span class="ss">:to</span>            <span class="o">=&gt;</span> <span class="n">standardized_address</span><span class="p">,</span>
    <span class="ss">:from</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:full_name</span>   <span class="o">=&gt;</span> <span class="s1">&#39;Littlelines&#39;</span><span class="p">,</span>
      <span class="ss">:address1</span>    <span class="o">=&gt;</span> <span class="s1">&#39;50 Chestnut Street&#39;</span><span class="p">,</span>
      <span class="ss">:address2</span>    <span class="o">=&gt;</span> <span class="s1">&#39;Suite 234&#39;</span><span class="p">,</span>
      <span class="ss">:city</span>        <span class="o">=&gt;</span> <span class="s1">&#39;Beavervcreek&#39;</span><span class="p">,</span>
      <span class="ss">:state</span>       <span class="o">=&gt;</span> <span class="s1">&#39;OH&#39;</span><span class="p">,</span>
      <span class="ss">:zip_code</span>    <span class="o">=&gt;</span> <span class="s1">&#39;45440&#39;</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
<h4>Hooray!</h4>

<p>That&#39;s it! Stamps will return a url of the stamp.  Print it and ship it!</p>
<div class="highlight"><pre><span class="n">stamp</span><span class="o">[</span><span class="ss">:url</span><span class="o">]</span>
</pre></div>
<p>If you are interested in more detailed information, check out the repo
on <a href="https://github.com/mattsears/stamps">Github</a>.</p>
          <hr />
        </div>
      </div>
    </article>
  </div>
</div>
<div class='row large-10 columns large-centered paginator'>
  <div class='row large-3 columns'>
    <a href="/articles/p3">← Older posts</a>
  </div>
  <div class='row large-3 columns text-right'>
    <a href="/articles">Newer posts →</a>
  </div>
</div>
        <footer class='row text-center'>
          <div class='twelve columns'>
            <div class='row'>
              <div class='twelve columns'>
                <p>
                  Copyright © 2016 Matt Sears.
                </p>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        //
          var _gauges = _gauges || [];
          (function() {
            var t   = document.createElement('script');
            t.type  = 'text/javascript';
            t.async = true;
            t.id    = 'gauges-tracker';
            t.setAttribute('data-site-id', '4fb913d1f5a1f50be2000073');
            t.src = '//secure.gaug.es/track.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(t, s);
          })();
        //
      //]]>
    </script>
    <script src="/javascripts/all.js?1463433978" type="text/javascript"></script>
  </body>
</html>
